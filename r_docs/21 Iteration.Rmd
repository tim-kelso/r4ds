---
title: "21 Iteration"
author: "Tim Kelso"
date: "07/06/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

```{r example}
df <- tibble(
  a = rnorm(10),
  b = rnorm(10),
  c = rnorm(10),
  d = rnorm(10)
)

output <- vector("double", ncol(df))  # 1. output (where your output will be stored - a vector of numbers with length equal to the                                            number of columns in the dataframe)
for (i in seq_along(df)) {            # 2. sequence (what you want to loop over - each run of the loop will assign i to a                                                    different value from seq_along (safer equivalent to 1:length(x))
  output[[i]] <- median(df[[i]])      # 3. body (what to perform in each iteration for every value of i)
}
output #displays the output
```
#21.2.1 Exercises
Write for loops to:

1. Compute the mean of every column in mtcars.
2. Determine the type of each column in nycflights13::flights.
3. Compute the number of unique values in each column of iris.
4. Generate 10 random normals from distributions with means of -10, 0, 10, and 100.

Think about the output, sequence, and body before you start writing the loop.

``` {r 21.2.1 Exercises}
#1. Compute the mean of every column in mtcars.
output1 <- vector("double", ncol(mtcars))

for (i in seq_along(mtcars)) {
  output1[[i]] <- mean(mtcars[[i]])
}

output1

#2. Determine the type of each column in nycflights13::flights.
output2 <- vector("list", ncol(nycflights13::flights))

for(i in seq_along(nycflights13::flights)) {
  output2[[i]] <- class(nycflights13::flights[[i]])
}

output2


#3. Compute the number of unique values in each column of iris.
output3 <- vector("double", ncol(iris))
names(output3) <- names(iris)
for(i in seq_along(iris)) {
  output3[[i]] <- n_distinct(iris[[i]])
}
output3

#4. Generate 10 random normals from distributions with means of -10, 0, 10, and 100.
n <- 10
mu <- c(-10, 0, 10, 100)
output4 <- vector("list", length(mu))
for(i in seq_along(output4)) {
  output4 <- rnorm(n, mean = mu[i])
}
output4
```